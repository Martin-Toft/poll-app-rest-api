(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();const cn=!1;var At=Array.isArray,er=Array.prototype.indexOf,Ot=Array.from,Et=Object.defineProperty,$e=Object.getOwnPropertyDescriptor,vn=Object.getOwnPropertyDescriptors,tr=Object.prototype,nr=Array.prototype,Ct=Object.getPrototypeOf,Kt=Object.isExtensible;function rr(e){return e()}function nt(e){for(var t=0;t<e.length;t++)e[t]()}function lr(){var e,t,n=new Promise((r,l)=>{e=r,t=l});return{promise:n,resolve:e,reject:t}}const U=2,_n=4,st=8,Pe=16,ae=32,Te=64,dn=128,Y=256,rt=512,q=1024,K=2048,oe=4096,Z=8192,Ie=16384,Nt=32768,Pt=65536,Jt=1<<17,ir=1<<18,Ge=1<<19,hn=1<<20,xt=1<<21,It=1<<22,be=1<<23,Be=Symbol("$state"),qt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ar(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function or(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function sr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function fr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ur(e){throw new Error("https://svelte.dev/e/effect_orphan")}function cr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function vr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function _r(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function dr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const ft=1,ut=2,pn=4,hr=8,pr=16,mr=1,wr=2,I=Symbol(),yr="http://www.w3.org/1999/xhtml";let gr=!1;function mn(e){return e===this.v}function br(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function wn(e){return!br(e,this.v)}let ct=!1,Er=!1;function xr(){ct=!0}let P=null;function lt(e){P=e}function yn(e,t=!1,n){P={p:P,c:null,e:null,s:e,x:null,l:ct&&!t?{s:null,u:null,$:[]}:null}}function gn(e){var t=P,n=t.e;if(n!==null){t.e=null;for(var r of n)Rn(r)}return P=t.p,{}}function Qe(){return!ct||P!==null&&P.l===null}const Sr=new WeakMap;function Tr(e){var t=g;if(t===null)return y.f|=be,e;if((t.f&Nt)===0){if((t.f&dn)===0)throw!t.parent&&e instanceof Error&&bn(e),e;t.b.error(e)}else Rt(e,t)}function Rt(e,t){for(;t!==null;){if((t.f&dn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&bn(e),e}function bn(e){const t=Sr.get(e);t&&(Et(e,"message",{value:t.message}),Et(e,"stack",{value:t.stack}))}let ve=[],it=[];function En(){var e=ve;ve=[],nt(e)}function kr(){var e=it;it=[],nt(e)}function Ar(){return ve.length>0||it.length>0}function Lt(e){if(ve.length===0&&!He){var t=ve;queueMicrotask(()=>{t===ve&&En()})}ve.push(e)}function Or(){ve.length>0&&En(),it.length>0&&kr()}function Cr(){const e=g.b;return e===null&&ar(),e}function Mt(e){var t=U|K,n=y!==null&&(y.f&U)!==0?y:null;return g===null||n!==null&&(n.f&Y)!==0?t|=Y:g.f|=Ge,{ctx:P,deps:null,effects:null,equals:mn,f:t,fn:e,reactions:null,rv:0,v:I,wv:0,parent:n??g,ac:null}}function Nr(e,t){let n=g;n===null&&or();var r=n.b,l=void 0,i=We(I),a=null,f=!y;return Wr(()=>{try{var o=e();a&&Promise.resolve(o).catch(()=>{})}catch(v){o=Promise.reject(v)}var s=()=>o;l=a?.then(s,s)??Promise.resolve(o),a=l;var c=k,_=r.is_pending();f&&(r.update_pending_count(1),_||c.increment());const h=(v,u=void 0)=>{a=null,_||c.activate(),u?u!==qt&&(i.f|=be,Ye(i,u)):((i.f&be)!==0&&(i.f^=be),Ye(i,v)),f&&(r.update_pending_count(-1),_||c.decrement()),kn()};if(l.then(h,v=>h(null,v||"unknown")),c)return()=>{queueMicrotask(()=>c.neuter())}}),new Promise(o=>{function s(c){function _(){c===l?o(i):s(l)}c.then(_,_)}s(l)})}function xn(e){const t=Mt(e);return t.equals=wn,t}function Sn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ie(t[n])}}function Pr(e){for(var t=e.parent;t!==null;){if((t.f&U)===0)return t;t=t.parent}return null}function Dt(e){var t,n=g;he(Pr(e));try{Sn(e),t=Hn(e)}finally{he(n)}return t}function Tn(e){var t=Dt(e);if(e.equals(t)||(e.v=t,e.wv=$n()),!qe){var n=(_e||(e.f&Y)!==0)&&e.deps!==null?oe:q;F(e,n)}}function Ir(e,t,n){const r=Qe()?Mt:xn;if(t.length===0){n(e.map(r));return}var l=k,i=g,a=qr(),f=Cr();Promise.all(t.map(o=>Nr(o))).then(o=>{l?.activate(),a();try{n([...e.map(r),...o])}catch(s){(i.f&Ie)===0&&Rt(s,i)}l?.deactivate(),kn()}).catch(o=>{f.error(o)})}function qr(){var e=g,t=y,n=P,r=k;return function(){he(e),ne(t),lt(n),r?.activate()}}function kn(){he(null),ne(null),lt(null)}const ht=new Set;let k=null,tt=null,Gt=new Set,Se=[],vt=null,St=!1,He=!1;class Ce{current=new Map;#s=new Map;#l=new Set;#e=0;#f=null;#u=!1;#n=[];#i=[];#r=[];#t=[];#a=[];#c=[];#v=[];skipped_effects=new Set;process(t){Se=[],tt=null;for(const l of t)this.#d(l);if(this.#n.length===0&&this.#e===0){this.#_();var n=this.#r,r=this.#t;this.#r=[],this.#t=[],this.#a=[],tt=k,k=null,Qt(n),Qt(r),k===null?k=this:ht.delete(this),this.#f?.resolve()}else this.#o(this.#r),this.#o(this.#t),this.#o(this.#a);for(const l of this.#n)xe(l);for(const l of this.#i)xe(l);this.#n=[],this.#i=[]}#d(t){t.f^=q;for(var n=t.first;n!==null;){var r=n.f,l=(r&(ae|Te))!==0,i=l&&(r&q)!==0,a=i||(r&Z)!==0||this.skipped_effects.has(n);if(!a&&n.fn!==null){if(l)n.f^=q;else if((r&_n)!==0)this.#t.push(n);else if((r&q)===0)if((r&It)!==0){var f=n.b?.is_pending()?this.#i:this.#n;f.push(n)}else Ze(n)&&((n.f&Pe)!==0&&this.#a.push(n),xe(n));var o=n.first;if(o!==null){n=o;continue}}var s=n.parent;for(n=n.next;n===null&&s!==null;)n=s.next,s=s.parent}}#o(t){for(const n of t)((n.f&K)!==0?this.#c:this.#v).push(n),F(n,q);t.length=0}capture(t,n){this.#s.has(t)||this.#s.set(t,n),this.current.set(t,t.v)}activate(){k=this}deactivate(){k=null,tt=null;for(const t of Gt)if(Gt.delete(t),t(),k!==null)break}neuter(){this.#u=!0}flush(){Se.length>0?An():this.#_(),k===this&&(this.#e===0&&ht.delete(this),this.deactivate())}#_(){if(!this.#u)for(const t of this.#l)t();this.#l.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#c)F(t,K),Ne(t);for(const t of this.#v)F(t,oe),Ne(t);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#l.add(t)}settled(){return(this.#f??=lr()).promise}static ensure(){if(k===null){const t=k=new Ce;ht.add(k),He||Ce.enqueue(()=>{k===t&&t.flush()})}return k}static enqueue(t){Lt(t)}}function Rr(e){var t=He;He=!0;try{for(var n;;){if(Or(),Se.length===0&&!Ar()&&(k?.flush(),Se.length===0))return vt=null,n;An()}}finally{He=t}}function An(){var e=Oe;St=!0;try{var t=0;for(en(!0);Se.length>0;){var n=Ce.ensure();if(t++>1e3){var r,l;Lr()}n.process(Se),de.clear()}}finally{St=!1,en(e),vt=null}}function Lr(){try{cr()}catch(e){Rt(e,vt)}}let ge=null;function Qt(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ie|Z))===0&&Ze(r)&&(ge=[],xe(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Fn(r):r.fn=null),ge?.length>0)){de.clear();for(const l of ge)xe(l);ge=[]}}ge=null}}function Ne(e){for(var t=vt=e;t.parent!==null;){t=t.parent;var n=t.f;if(St&&t===g&&(n&Pe)!==0)return;if((n&(Te|ae))!==0){if((n&q)===0)return;t.f^=q}}Se.push(t)}const de=new Map;function We(e,t){var n={f:0,v:e,reactions:null,equals:mn,rv:0,wv:0};return n}function ue(e,t){const n=We(e);return Jr(n),n}function re(e,t=!1,n=!0){const r=We(e);return t||(r.equals=wn),ct&&n&&P!==null&&P.l!==null&&(P.l.s??=[]).push(r),r}function O(e,t,n=!1){y!==null&&(!te||(y.f&Jt)!==0)&&Qe()&&(y.f&(U|Pe|It|Jt))!==0&&!le?.includes(e)&&dr();let r=n?Ve(t):t;return Ye(e,r)}function Ye(e,t){if(!e.equals(t)){var n=e.v;qe?de.set(e,t):de.set(e,n),e.v=t;var r=Ce.ensure();r.capture(e,n),(e.f&U)!==0&&((e.f&K)!==0&&Dt(e),F(e,(e.f&Y)===0?q:oe)),e.wv=$n(),On(e,K),Qe()&&g!==null&&(g.f&q)!==0&&(g.f&(ae|Te))===0&&(H===null?Gr([e]):H.push(e))}return t}function pt(e){O(e,e.v+1)}function On(e,t){var n=e.reactions;if(n!==null)for(var r=Qe(),l=n.length,i=0;i<l;i++){var a=n[i],f=a.f;if(!(!r&&a===g)){var o=(f&K)===0;o&&F(a,t),(f&U)!==0?On(a,oe):o&&((f&Pe)!==0&&ge!==null&&ge.push(a),Ne(a))}}}function Ve(e){if(typeof e!="object"||e===null||Be in e)return e;const t=Ct(e);if(t!==tr&&t!==nr)return e;var n=new Map,r=At(e),l=ue(0),i=Ee,a=f=>{if(Ee===i)return f();var o=y,s=Ee;ne(null),nn(i);var c=f();return ne(o),nn(s),c};return r&&n.set("length",ue(e.length)),new Proxy(e,{defineProperty(f,o,s){(!("value"in s)||s.configurable===!1||s.enumerable===!1||s.writable===!1)&&vr();var c=n.get(o);return c===void 0?c=a(()=>{var _=ue(s.value);return n.set(o,_),_}):O(c,s.value,!0),!0},deleteProperty(f,o){var s=n.get(o);if(s===void 0){if(o in f){const c=a(()=>ue(I));n.set(o,c),pt(l)}}else O(s,I),pt(l);return!0},get(f,o,s){if(o===Be)return e;var c=n.get(o),_=o in f;if(c===void 0&&(!_||$e(f,o)?.writable)&&(c=a(()=>{var v=Ve(_?f[o]:I),u=ue(v);return u}),n.set(o,c)),c!==void 0){var h=d(c);return h===I?void 0:h}return Reflect.get(f,o,s)},getOwnPropertyDescriptor(f,o){var s=Reflect.getOwnPropertyDescriptor(f,o);if(s&&"value"in s){var c=n.get(o);c&&(s.value=d(c))}else if(s===void 0){var _=n.get(o),h=_?.v;if(_!==void 0&&h!==I)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return s},has(f,o){if(o===Be)return!0;var s=n.get(o),c=s!==void 0&&s.v!==I||Reflect.has(f,o);if(s!==void 0||g!==null&&(!c||$e(f,o)?.writable)){s===void 0&&(s=a(()=>{var h=c?Ve(f[o]):I,v=ue(h);return v}),n.set(o,s));var _=d(s);if(_===I)return!1}return c},set(f,o,s,c){var _=n.get(o),h=o in f;if(r&&o==="length")for(var v=s;v<_.v;v+=1){var u=n.get(v+"");u!==void 0?O(u,I):v in f&&(u=a(()=>ue(I)),n.set(v+"",u))}if(_===void 0)(!h||$e(f,o)?.writable)&&(_=a(()=>ue(void 0)),O(_,Ve(s)),n.set(o,_));else{h=_.v!==I;var w=a(()=>Ve(s));O(_,w)}var p=Reflect.getOwnPropertyDescriptor(f,o);if(p?.set&&p.set.call(c,s),!h){if(r&&typeof o=="string"){var T=n.get("length"),E=Number(o);Number.isInteger(E)&&E>=T.v&&O(T,E+1)}pt(l)}return!0},ownKeys(f){d(l);var o=Reflect.ownKeys(f).filter(_=>{var h=n.get(_);return h===void 0||h.v!==I});for(var[s,c]of n)c.v!==I&&!(s in f)&&o.push(s);return o},setPrototypeOf(){_r()}})}var Xt,Cn,Nn,Pn;function Mr(){if(Xt===void 0){Xt=window,Cn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Nn=$e(t,"firstChild").get,Pn=$e(t,"nextSibling").get,Kt(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Kt(n)&&(n.__t=void 0)}}function Xe(e=""){return document.createTextNode(e)}function at(e){return Nn.call(e)}function _t(e){return Pn.call(e)}function Q(e,t){return at(e)}function ce(e,t){{var n=at(e);return n instanceof Comment&&n.data===""?_t(n):n}}function B(e,t=1,n=!1){let r=e;for(;t--;)r=_t(r);return r}function Dr(e){e.textContent=""}function In(){return!1}let Zt=!1;function Fr(){Zt||(Zt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function dt(e){var t=y,n=g;ne(null),he(null);try{return e()}finally{ne(t),he(n)}}function jr(e,t,n,r=n){e.addEventListener(t,()=>dt(n));const l=e.__on_r;l?e.__on_r=()=>{l(),r(!0)}:e.__on_r=()=>r(!0),Fr()}function qn(e){g===null&&y===null&&ur(),y!==null&&(y.f&Y)!==0&&g===null&&fr(),qe&&sr()}function Vr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function se(e,t,n,r=!0){var l=g;l!==null&&(l.f&Z)!==0&&(e|=Z);var i={ctx:P,deps:null,nodes_start:null,nodes_end:null,f:e|K,first:null,fn:t,last:null,next:null,parent:l,b:l&&l.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{xe(i),i.f|=Nt}catch(o){throw ie(i),o}else t!==null&&Ne(i);if(r){var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&Ge)===0&&(a=a.first),a!==null&&(a.parent=l,l!==null&&Vr(a,l),y!==null&&(y.f&U)!==0&&(e&Te)===0)){var f=y;(f.effects??=[]).push(a)}}return i}function Ur(e){const t=se(st,null,!1);return F(t,q),t.teardown=e,t}function zt(e){qn();var t=g.f,n=!y&&(t&ae)!==0&&(t&Nt)===0;if(n){var r=P;(r.e??=[]).push(e)}else return Rn(e)}function Rn(e){return se(_n|hn,e,!1)}function $r(e){return qn(),se(st|hn,e,!0)}function Br(e){Ce.ensure();const t=se(Te|Ge,e,!0);return(n={})=>new Promise(r=>{n.outro?jt(t,()=>{ie(t),r(void 0)}):(ie(t),r(void 0))})}function mt(e,t){var n=P,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=Ft(()=>{e(),!r.ran&&(r.ran=!0,W(t))})}function Hr(){var e=P;Ft(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&q)!==0&&F(n,oe),Ze(n)&&xe(n),t.ran=!1}})}function Wr(e){return se(It|Ge,e,!0)}function Ft(e,t=0){return se(st|t,e,!0)}function ze(e,t=[],n=[]){Ir(t,n,r=>{se(st,()=>e(...r.map(d)),!0)})}function Ln(e,t=0){var n=se(Pe|t,e,!0);return n}function Ke(e,t=!0){return se(ae|Ge,e,!0,t)}function Mn(e){var t=e.teardown;if(t!==null){const n=qe,r=y;tn(!0),ne(null);try{t.call(null)}finally{tn(n),ne(r)}}}function Dn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const l=n.ac;l!==null&&dt(()=>{l.abort(qt)});var r=n.next;(n.f&Te)!==0?n.parent=null:ie(n,t),n=r}}function Yr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ae)===0&&ie(t),t=n}}function ie(e,t=!0){var n=!1;(t||(e.f&ir)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Kr(e.nodes_start,e.nodes_end),n=!0),Dn(e,t&&!n),ot(e,0),F(e,Ie);var r=e.transitions;if(r!==null)for(const i of r)i.stop();Mn(e);var l=e.parent;l!==null&&l.first!==null&&Fn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Kr(e,t){for(;e!==null;){var n=e===t?null:_t(e);e.remove(),e=n}}function Fn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function jt(e,t){var n=[];Vt(e,n,!0),jn(n,()=>{ie(e),t&&t()})}function jn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var l of e)l.out(r)}else t()}function Vt(e,t,n){if((e.f&Z)===0){if(e.f^=Z,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var l=r.next,i=(r.f&Pt)!==0||(r.f&ae)!==0;Vt(r,t,i?n:!1),r=l}}}function Ut(e){Vn(e,!0)}function Vn(e,t){if((e.f&Z)!==0){e.f^=Z,(e.f&q)===0&&(F(e,K),Ne(e));for(var n=e.first;n!==null;){var r=n.next,l=(n.f&Pt)!==0||(n.f&ae)!==0;Vn(n,l?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Oe=!1;function en(e){Oe=e}let qe=!1;function tn(e){qe=e}let y=null,te=!1;function ne(e){y=e}let g=null;function he(e){g=e}let le=null;function Jr(e){y!==null&&(le===null?le=[e]:le.push(e))}let D=null,V=0,H=null;function Gr(e){H=e}let Un=1,Je=0,Ee=Je;function nn(e){Ee=e}let _e=!1;function $n(){return++Un}function Ze(e){var t=e.f;if((t&K)!==0)return!0;if((t&oe)!==0){var n=e.deps,r=(t&Y)!==0;if(n!==null){var l,i,a=(t&rt)!==0,f=r&&g!==null&&!_e,o=n.length;if((a||f)&&(g===null||(g.f&Ie)===0)){var s=e,c=s.parent;for(l=0;l<o;l++)i=n[l],(a||!i?.reactions?.includes(s))&&(i.reactions??=[]).push(s);a&&(s.f^=rt),f&&c!==null&&(c.f&Y)===0&&(s.f^=Y)}for(l=0;l<o;l++)if(i=n[l],Ze(i)&&Tn(i),i.wv>e.wv)return!0}(!r||g!==null&&!_e)&&F(e,q)}return!1}function Bn(e,t,n=!0){var r=e.reactions;if(r!==null&&!le?.includes(e))for(var l=0;l<r.length;l++){var i=r[l];(i.f&U)!==0?Bn(i,t,!1):t===i&&(n?F(i,K):(i.f&q)!==0&&F(i,oe),Ne(i))}}function Hn(e){var t=D,n=V,r=H,l=y,i=_e,a=le,f=P,o=te,s=Ee,c=e.f;D=null,V=0,H=null,_e=(c&Y)!==0&&(te||!Oe||y===null),y=(c&(ae|Te))===0?e:null,le=null,lt(e.ctx),te=!1,Ee=++Je,e.ac!==null&&(dt(()=>{e.ac.abort(qt)}),e.ac=null);try{e.f|=xt;var _=e.fn,h=_(),v=e.deps;if(D!==null){var u;if(ot(e,V),v!==null&&V>0)for(v.length=V+D.length,u=0;u<D.length;u++)v[V+u]=D[u];else e.deps=v=D;if(!_e||(c&U)!==0&&e.reactions!==null)for(u=V;u<v.length;u++)(v[u].reactions??=[]).push(e)}else v!==null&&V<v.length&&(ot(e,V),v.length=V);if(Qe()&&H!==null&&!te&&v!==null&&(e.f&(U|oe|K))===0)for(u=0;u<H.length;u++)Bn(H[u],e);return l!==null&&l!==e&&(Je++,H!==null&&(r===null?r=H:r.push(...H))),(e.f&be)!==0&&(e.f^=be),h}catch(w){return Tr(w)}finally{e.f^=xt,D=t,V=n,H=r,y=l,_e=i,le=a,lt(f),te=o,Ee=s}}function Qr(e,t){let n=t.reactions;if(n!==null){var r=er.call(n,e);if(r!==-1){var l=n.length-1;l===0?n=t.reactions=null:(n[r]=n[l],n.pop())}}n===null&&(t.f&U)!==0&&(D===null||!D.includes(t))&&(F(t,oe),(t.f&(Y|rt))===0&&(t.f^=rt),Sn(t),ot(t,0))}function ot(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Qr(e,n[r])}function xe(e){var t=e.f;if((t&Ie)===0){F(e,q);var n=g,r=Oe;g=e,Oe=!0;try{(t&Pe)!==0?Yr(e):Dn(e),Mn(e);var l=Hn(e);e.teardown=typeof l=="function"?l:null,e.wv=Un;var i;cn&&Er&&(e.f&K)!==0&&e.deps}finally{Oe=r,g=n}}}async function Xr(){await Promise.resolve(),Rr()}function d(e){var t=e.f,n=(t&U)!==0;if(y!==null&&!te){var r=g!==null&&(g.f&Ie)!==0;if(!r&&!le?.includes(e)){var l=y.deps;if((y.f&xt)!==0)e.rv<Je&&(e.rv=Je,D===null&&l!==null&&l[V]===e?V++:D===null?D=[e]:(!_e||!D.includes(e))&&D.push(e));else{(y.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[y]:i.includes(y)||i.push(y)}}}else if(n&&e.deps===null&&e.effects===null){var a=e,f=a.parent;f!==null&&(f.f&Y)===0&&(a.f^=Y)}if(qe){if(de.has(e))return de.get(e);if(n){a=e;var o=a.v;return((a.f&q)===0&&a.reactions!==null||Wn(a))&&(o=Dt(a)),de.set(a,o),o}}else n&&(a=e,Ze(a)&&Tn(a));if((e.f&be)!==0)throw e.v;return e.v}function Wn(e){if(e.v===I)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(de.has(t)||(t.f&U)!==0&&Wn(t))return!0;return!1}function W(e){var t=te;try{return te=!0,e()}finally{te=t}}const Zr=-7169;function F(e,t){e.f=e.f&Zr|t}function zr(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Be in e)Tt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Be in n&&Tt(n)}}}function Tt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Tt(e[r],t)}catch{}const n=Ct(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=vn(n);for(let l in r){const i=r[l].get;if(i)try{i.call(e)}catch{}}}}}const el=["touchstart","touchmove"];function tl(e){return el.includes(e)}const nl=new Set,rn=new Set;function rl(e,t,n,r={}){function l(i){if(r.capture||Ue.call(t,i),!i.cancelBubble)return dt(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Lt(()=>{t.addEventListener(e,l,r)}):t.addEventListener(e,l,r),l}function Fe(e,t,n,r,l){var i={capture:r,passive:l},a=rl(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ur(()=>{t.removeEventListener(e,a,i)})}let ln=null;function Ue(e){var t=this,n=t.ownerDocument,r=e.type,l=e.composedPath?.()||[],i=l[0]||e.target;ln=e;var a=0,f=ln===e&&e.__root;if(f){var o=l.indexOf(f);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var s=l.indexOf(t);if(s===-1)return;o<=s&&(a=o)}if(i=l[a]||e.target,i!==t){Et(e,"currentTarget",{configurable:!0,get(){return i||n}});var c=y,_=g;ne(null),he(null);try{for(var h,v=[];i!==null;){var u=i.assignedSlot||i.parentNode||i.host||null;try{var w=i["__"+r];if(w!=null&&(!i.disabled||e.target===i))if(At(w)){var[p,...T]=w;p.apply(i,[e,...T])}else w.call(i,e)}catch(E){h?v.push(E):h=E}if(e.cancelBubble||u===t||u===null)break;i=u}if(h){for(let E of v)queueMicrotask(()=>{throw E});throw h}}finally{e.__root=t,delete e.currentTarget,ne(c),he(_)}}}function ll(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function kt(e,t){var n=g;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function pe(e,t){var n=(t&mr)!==0,r=(t&wr)!==0,l,i=!e.startsWith("<!>");return()=>{l===void 0&&(l=ll(i?e:"<!>"+e),n||(l=at(l)));var a=r||Cn?document.importNode(l,!0):l.cloneNode(!0);if(n){var f=at(a),o=a.lastChild;kt(f,o)}else kt(a,a);return a}}function wt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Xe();return e.append(t,n),kt(t,n),e}function X(e,t){e!==null&&e.before(t)}function et(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function il(e,t){return al(e,t)}const Ae=new Map;function al(e,{target:t,anchor:n,props:r={},events:l,context:i,intro:a=!0}){Mr();var f=new Set,o=_=>{for(var h=0;h<_.length;h++){var v=_[h];if(!f.has(v)){f.add(v);var u=tl(v);t.addEventListener(v,Ue,{passive:u});var w=Ae.get(v);w===void 0?(document.addEventListener(v,Ue,{passive:u}),Ae.set(v,1)):Ae.set(v,w+1)}}};o(Ot(nl)),rn.add(o);var s=void 0,c=Br(()=>{var _=n??t.appendChild(Xe());return Ke(()=>{if(i){yn({});var h=P;h.c=i}l&&(r.$$events=l),s=e(_,r)||{},i&&gn()}),()=>{for(var h of f){t.removeEventListener(h,Ue);var v=Ae.get(h);--v===0?(document.removeEventListener(h,Ue),Ae.delete(h)):Ae.set(h,v)}rn.delete(o),_!==n&&_.parentNode?.removeChild(_)}});return ol.set(s,c),s}let ol=new WeakMap;function je(e,t,n=!1){var r=e,l=null,i=null,a=I,f=n?Pt:0,o=!1;const s=(v,u=!0)=>{o=!0,h(u,v)};var c=null;function _(){c!==null&&(c.lastChild.remove(),r.before(c),c=null);var v=a?l:i,u=a?i:l;v&&Ut(v),u&&jt(u,()=>{a?i=null:l=null})}const h=(v,u)=>{if(a!==(a=v)){var w=In(),p=r;if(w&&(c=document.createDocumentFragment(),c.append(p=Xe())),a?l??=u&&Ke(()=>u(p)):i??=u&&Ke(()=>u(p)),w){var T=k,E=a?l:i,A=a?i:l;E&&T.skipped_effects.delete(E),A&&T.skipped_effects.add(A),T.add_callback(_)}else _()}};Ln(()=>{o=!1,t(s),o||h(null,null)},f)}function an(e,t){return t}function sl(e,t,n){for(var r=e.items,l=[],i=t.length,a=0;a<i;a++)Vt(t[a].e,l,!0);var f=i>0&&l.length===0&&n!==null;if(f){var o=n.parentNode;Dr(o),o.append(n),r.clear(),ee(e,t[0].prev,t[i-1].next)}jn(l,()=>{for(var s=0;s<i;s++){var c=t[s];f||(r.delete(c.k),ee(e,c.prev,c.next)),ie(c.e,!f)}})}function on(e,t,n,r,l,i=null){var a=e,f={flags:t,items:new Map,first:null},o=(t&pn)!==0;if(o){var s=e;a=s.appendChild(Xe())}var c=null,_=!1,h=new Map,v=xn(()=>{var T=n();return At(T)?T:T==null?[]:Ot(T)}),u,w;function p(){fl(w,u,f,h,a,l,t,r,n),i!==null&&(u.length===0?c?Ut(c):c=Ke(()=>i(a)):c!==null&&jt(c,()=>{c=null}))}Ln(()=>{w??=g,u=d(v);var T=u.length;if(!(_&&T===0)){_=T===0;var E,A,R,N;if(In()){var b=new Set,S=k;for(A=0;A<T;A+=1){R=u[A],N=r(R,A);var J=f.items.get(N)??h.get(N);J?(t&(ft|ut))!==0&&Yn(J,R,A,t):(E=Kn(null,f,null,null,R,N,A,l,t,n,!0),h.set(N,E)),b.add(N)}for(const[ke,Re]of f.items)b.has(ke)||S.skipped_effects.add(Re.e);S.add_callback(p)}else p();d(v)}})}function fl(e,t,n,r,l,i,a,f,o){var s=(a&hr)!==0,c=(a&(ft|ut))!==0,_=t.length,h=n.items,v=n.first,u=v,w,p=null,T,E=[],A=[],R,N,b,S;if(s)for(S=0;S<_;S+=1)R=t[S],N=f(R,S),b=h.get(N),b!==void 0&&(b.a?.measure(),(T??=new Set).add(b));for(S=0;S<_;S+=1){if(R=t[S],N=f(R,S),b=h.get(N),b===void 0){var J=r.get(N);if(J!==void 0){r.delete(N),h.set(N,J);var ke=p?p.next:u;ee(n,p,J),ee(n,J,ke),yt(J,ke,l),p=J}else{var Re=u?u.e.nodes_start:l;p=Kn(Re,n,p,p===null?n.first:p.next,R,N,S,i,a,o)}h.set(N,p),E=[],A=[],u=p.next;continue}if(c&&Yn(b,R,S,a),(b.e.f&Z)!==0&&(Ut(b.e),s&&(b.a?.unfix(),(T??=new Set).delete(b))),b!==u){if(w!==void 0&&w.has(b)){if(E.length<A.length){var x=A[0],m;p=x.prev;var $=E[0],j=E[E.length-1];for(m=0;m<E.length;m+=1)yt(E[m],x,l);for(m=0;m<A.length;m+=1)w.delete(A[m]);ee(n,$.prev,j.next),ee(n,p,$),ee(n,j,x),u=x,p=j,S-=1,E=[],A=[]}else w.delete(b),yt(b,u,l),ee(n,b.prev,b.next),ee(n,b,p===null?n.first:p.next),ee(n,p,b),p=b;continue}for(E=[],A=[];u!==null&&u.k!==N;)(u.e.f&Z)===0&&(w??=new Set).add(u),A.push(u),u=u.next;if(u===null)continue;b=u}E.push(b),p=b,u=b.next}if(u!==null||w!==void 0){for(var M=w===void 0?[]:Ot(w);u!==null;)(u.e.f&Z)===0&&M.push(u),u=u.next;var L=M.length;if(L>0){var C=(a&pn)!==0&&_===0?l:null;if(s){for(S=0;S<L;S+=1)M[S].a?.measure();for(S=0;S<L;S+=1)M[S].a?.fix()}sl(n,M,C)}}s&&Lt(()=>{if(T!==void 0)for(b of T)b.a?.apply()}),e.first=n.first&&n.first.e,e.last=p&&p.e;for(var me of r.values())ie(me.e);r.clear()}function Yn(e,t,n,r){(r&ft)!==0&&Ye(e.v,t),(r&ut)!==0?Ye(e.i,n):e.i=n}function Kn(e,t,n,r,l,i,a,f,o,s,c){var _=(o&ft)!==0,h=(o&pr)===0,v=_?h?re(l,!1,!1):We(l):l,u=(o&ut)===0?a:We(a),w={i:u,v,k:i,a:null,e:null,prev:n,next:r};try{if(e===null){var p=document.createDocumentFragment();p.append(e=Xe())}return w.e=Ke(()=>f(e,v,u,s),gr),w.e.prev=n&&n.e,w.e.next=r&&r.e,n===null?c||(t.first=w):(n.next=w,n.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function yt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,l=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==null&&i!==r;){var a=_t(i);l.before(i),i=a}}function ee(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const ul=Symbol("is custom element"),cl=Symbol("is html");function vl(e,t,n,r){var l=_l(e);l[t]!==(l[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&dl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function _l(e){return e.__attributes??={[ul]:e.nodeName.includes("-"),[cl]:e.namespaceURI===yr}}var sn=new Map;function dl(e){var t=e.getAttribute("is")||e.nodeName,n=sn.get(t);if(n)return n;sn.set(t,n=[]);for(var r,l=e,i=Element.prototype;i!==l;){r=vn(l);for(var a in r)r[a].set&&n.push(a);l=Ct(l)}return n}function hl(e,t,n=t){var r=new WeakSet;jr(e,"input",async l=>{var i=l?e.defaultValue:e.value;if(i=gt(e)?bt(i):i,n(i),k!==null&&r.add(k),await Xr(),i!==(i=t())){var a=e.selectionStart,f=e.selectionEnd;e.value=i??"",f!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(f,e.value.length))}}),W(t)==null&&e.value&&(n(gt(e)?bt(e.value):e.value),k!==null&&r.add(k)),Ft(()=>{var l=t();if(e===document.activeElement){var i=tt??k;if(r.has(i))return}gt(e)&&l===bt(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function gt(e){var t=e.type;return t==="number"||t==="range"}function bt(e){return e===""?null:+e}function fn(e){return function(...t){var n=t[0];return n.preventDefault(),e?.apply(this,t)}}function pl(e=!1){const t=P,n=t.l.u;if(!n)return;let r=()=>zr(t.s);if(e){let l=0,i={};const a=Mt(()=>{let f=!1;const o=t.s;for(const s in o)o[s]!==i[s]&&(i[s]=o[s],f=!0);return f&&l++,l});r=()=>d(a)}n.b.length&&$r(()=>{un(t,r),nt(n.b)}),zt(()=>{const l=W(()=>n.m.map(rr));return()=>{for(const i of l)typeof i=="function"&&i()}}),n.a.length&&zt(()=>{un(t,r),nt(n.a)})}function un(e,t){if(e.l.s)for(const n of e.l.s)d(n);t()}const ml="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ml);xr();var wl=pe('<label class="option svelte-1n46o8q"><span></span> <input name="option" type="text" placeholder="Vote option caption" class="svelte-1n46o8q"/></label>'),yl=pe("<p>Created poll id: <code> </code></p> <p><a>Go vote on this poll</a></p>",1),gl=pe('<h2>Create a poll:</h2> <form><label class="question svelte-1n46o8q"><span>Question:</span> <input name="question" type="text" placeholder="Question to vote on:" class="svelte-1n46o8q"/></label> <!> <button type="button" class="svelte-1n46o8q">+ Add option</button> <button type="button" class="svelte-1n46o8q">âˆ’ Remove option</button> <button type="submit" class="svelte-1n46o8q">Create poll</button> <!></form>',1),bl=pe('<div class="voteRow svelte-1n46o8q"><div class="voteText svelte-1n46o8q"> </div> <button class="upButton svelte-1n46o8q" type="button">vote</button> <div class="voteCount"> </div></div>'),El=pe('<h2 class="voteQuestion"> </h2> <div class="voteList svelte-1n46o8q"></div>',1),xl=pe('<h2>Open a poll</h2> <form><input type="text" placeholder="paste poll ID"/> <button type="submit" class="svelte-1n46o8q">Open</button></form>',1),Sl=pe("<p>Home Page:</p>"),Tl=pe('<header class="svelte-1n46o8q"><h1 class="svelte-1n46o8q">Poll App</h1></header> <nav class="svelte-1n46o8q"><a href="#/create" class="svelte-1n46o8q">Create a poll</a> <a href="#/vote" class="svelte-1n46o8q">Vote on a poll</a></nav> <main class="svelte-1n46o8q"><!></main>',1);function kl(e,t){yn(t,!1);const n=re();let r=re(window.location.hash);window.addEventListener("hashchange",()=>{O(r,window.location.hash)});const l="http://localhost:8080/polls",i="http://localhost:8080/users";let a=localStorage.getItem("userId")||null;async function f(){if(a)try{if((await fetch(`${i}/${a}`)).ok)return}catch{}try{a=(await(await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"demo-"+Math.floor(Math.random()*1e6),email:"demo@example.com"})})).json()).id,localStorage.setItem("userId",a)}catch(x){console.error("failed",x)}}let o=re([null,null]);function s(){O(o,[...d(o),null])}function c(){d(o).length<=2||O(o,d(o).slice(0,-1))}let _=re(null);async function h(x){x.preventDefault();const m=x.currentTarget,$=new FormData(m);await f();const j=($.get("question")||"").toString().trim(),M=$.getAll("option").map(C=>C.toString().trim()).filter(Boolean),L={ownerId:a,question:j,publishedAt:null,validUntil:null,options:M.map((C,me)=>({caption:C,presentationOrder:me}))};try{const C=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!C.ok){console.error("failed",C.status);return}O(_,null);try{(C.headers.get("content-type")||"").includes("application/json")?O(_,await C.json()):await C.text()}catch{}m.reset()}catch(C){console.error("failed",C)}}let v=re(null),u=re(null);async function w(x){O(v,null);try{const m=await fetch(`${l}/${x}`);if(!m.ok){console.error("failed",m.status);return}O(v,await m.json())}catch(m){console.error("failed",m)}}let p=re({});async function T(x){try{const m=await fetch(`${l}/${x}/votes`);if(!m.ok){O(p,{});return}const $=await m.json(),j={};for(const M of $)j[M.option.id]=(j[M.option.id]||0)+1;O(p,j)}catch{O(p,{})}}let E=null;async function A(x){await f(),E=null;try{let m=await fetch(`${l}/${d(n)}/votes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a,optionId:x})});if(m.status===500&&(localStorage.removeItem("userId"),a=null,await f(),m=await fetch(`${l}/${d(n)}/votes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a,optionId:x})})),!m.ok){console.error("failed",m.status);return}E=await m.json().catch(()=>null),await T(d(n))}catch(m){console.error("failed",m)}}let R=re("");async function N(x){x.preventDefault();const m=d(R).trim();m&&(window.location.hash=`#/vote/${m}`,O(R,""))}mt(()=>d(r),()=>{O(n,d(r).startsWith("#/vote/")?d(r).slice(7):null)}),mt(()=>(d(n),d(u)),()=>{d(n)&&d(n)!==d(u)&&(O(u,d(n)),w(d(n)))}),mt(()=>(d(v),d(n)),()=>{d(v)&&d(n)&&T(d(n))}),Hr(),pl();var b=Tl(),S=B(ce(b),4),J=Q(S);{var ke=x=>{var m=gl(),$=B(ce(m),2),j=B(Q($),2);on(j,1,()=>d(o),an,(we,Le,G)=>{var z=wl(),fe=Q(z);fe.textContent=`Option ${G+1}:`,X(we,z)});var M=B(j,2),L=B(M,2),C=B(L,4);{var me=we=>{var Le=yl(),G=ce(Le),z=B(Q(G)),fe=Q(z),Me=B(G,2),ye=Q(Me);ze(()=>{et(fe,(d(_),W(()=>d(_).id))),vl(ye,"href",(d(_),W(()=>`#/vote/${d(_).id}`)))}),X(we,Le)};je(C,we=>{d(_),W(()=>d(_)?.id)&&we(me)})}ze(()=>L.disabled=(d(o),W(()=>d(o).length<=2))),Fe("click",M,s),Fe("click",L,c),Fe("submit",$,fn(h)),X(x,m)},Re=x=>{var m=wt(),$=ce(m);{var j=L=>{var C=wt(),me=ce(C);{var we=G=>{var z=wt(),fe=ce(z);{var Me=ye=>{var $t=El(),Bt=ce($t),Jn=Q(Bt),Gn=B(Bt,2);on(Gn,5,()=>(d(v),W(()=>d(v).options)),an,(Qn,De)=>{var Ht=bl(),Wt=Q(Ht),Xn=Q(Wt),Yt=B(Wt,2),Zn=B(Yt,2),zn=Q(Zn);ze(()=>{et(Xn,(d(De),W(()=>d(De).caption))),et(zn,`${d(p),d(De),W(()=>d(p)[d(De).id]??0)??""} Votes`)}),Fe("click",Yt,()=>A(d(De).id)),X(Qn,Ht)}),ze(()=>et(Jn,(d(v),W(()=>d(v).question)))),X(ye,$t)};je(fe,ye=>{d(v)&&ye(Me)})}X(G,z)},Le=G=>{var z=xl(),fe=B(ce(z),2),Me=Q(fe);hl(Me,()=>d(R),ye=>O(R,ye)),Fe("submit",fe,fn(N)),X(G,z)};je(me,G=>{d(n)?G(we):G(Le,!1)})}X(L,C)},M=L=>{var C=Sl();X(L,C)};je($,L=>{d(r),W(()=>d(r).startsWith("#/vote"))?L(j):L(M,!1)},!0)}X(x,m)};je(J,x=>{d(r)==="#/create"?x(ke):x(Re,!1)})}X(e,b),gn()}il(kl,{target:document.getElementById("app")});
